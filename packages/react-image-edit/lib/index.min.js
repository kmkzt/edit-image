!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-image-edit"]=t(require("react")):e["react-image-edit"]=t(e.react)}(window,function(n){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=2)}([function(e,t){e.exports=n},function(e,t,n){window,e.exports=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,n){"use strict";n.r(t);var r=/\.\d*(?:0|9){12}\d*$/,M=function(e,t){return void 0===t&&(t=1e11),r.test(String(e))?Math.round(e*t)/t:e},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c={fillStyle:"transparent",rotate:0,scaleX:1,scaleY:1,minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,quality:.7,mimeType:"image/jpeg"};function f(k,n){return i=this,l=function(){var t,b,v,w,g,m,O,x,j,S,P;return function(n,r){var o,i,a,e,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}(this,function(e){return t=o({},c,n),b=t.fillStyle,v=t.rotate,w=t.scaleX,g=t.scaleY,t.width,t.height,m=t.minWidth,O=t.minHeight,x=t.maxWidth,j=t.maxHeight,S=t.quality,P=t.mimeType,[2,new Promise(function(n,e){var t=document.createElement("canvas"),r=t.getContext("2d");if(r){var o=function e(t){var n,r=t.rotate,o=void 0===r?0:r,i=t.width,a=t.height,u=t.minWidth,l=void 0===u?0:u,c=t.minHeight,f=void 0===c?0:c,s=t.maxWidth,h=void 0===s?1/0:s,d=t.maxHeight,p=void 0===d?1/0:d;if(n=o,Math.abs(n)%180==90)return e({width:a,height:i,minWidth:f,minHeight:l,maxWidth:p,maxHeight:h});var y=i/a,b=function(e,t){return t<e*y},v=h<1/0&&p<1/0?{width:b(p,h)?h:p*y,height:b(p,h)?h/y:p}:h<1/0?{width:h,height:h/y}:p<1/0?{width:p*y,height:p}:{width:h,height:p},w=0<l&&0<f?{width:b(f,l)?l:f*y,height:b(f,l)?l/y:f}:0<l?{width:l,height:l/y}:0<f?{width:f*y,height:f}:{width:l,height:f},g=b(a,i)?{width:i,height:i/y}:{width:a*y,height:a};return{canvasWidth:Math.floor(M(Math.min(Math.max(g.width,w.width),v.width))),canvasHeight:Math.floor(M(Math.min(Math.max(g.height,w.height),v.height)))}}({width:k.naturalWidth,height:k.naturalHeight,minWidth:m,minHeight:O,maxWidth:x,maxHeight:j}),i=o.canvasWidth,a=o.canvasHeight,u=v*Math.PI/180,l=i,c=a,f=-l/2,s=-c/2,h=i*Math.cos(u)+a*Math.sin(u),d=i*Math.sin(u)+a*Math.cos(u),p=h/2,y=d/2;t.width=h,t.height=d,r.fillStyle=b,r.fillRect(0,0,h,d),r.save(),r.translate(p,y),r.rotate(u),r.scale(w,g),r.drawImage(k,f,s,l,c),r.restore(),t.toBlob(function(e){var t;t=k.src,window.URL&&window.URL.revokeObjectURL(t),n(e)},P,S)}else e(new Error("Not Supported Canvas"))})]})},new((u=a=void 0)||(u=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}o((l=l.apply(i,a||[])).next())});var i,a,u,l}var a=function(i,a,u,l){return new(u||(u=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}o((l=l.apply(i,a||[])).next())})},u=function(n,r){var o,i,a,e,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function s(r){return a(this,void 0,void 0,function(){return u(this,function(e){return[2,new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onabort=function(){t(new Error("Aborted to load the image."))},n.onerror=function(){t(new Error("Failed to load the image."))},n.alt=r.name,n.src=r.url})]})})}function h(i){return a(this,void 0,void 0,function(){return u(this,function(e){return[2,new Promise(function(o,e){var t=new FileReader;t.readAsDataURL(i),t.onload=function(e){var t,n=i.type,r=(t=i,(window.URL?window.URL.createObjectURL(t):null)||e.target.result);o({name:i.name||(new Date).toISOString(),url:r,mimeType:n})},t.onabort=function(){return e(new Error("Aborted to read the image with FileReader."))},t.onerror=function(){return e(new Error("Failed to read the image with FileReader."))},t.onloadend=function(){return t=null}})]})})}n.d(t,"createBlob",function(){return f}),n.d(t,"loadImage",function(){return s}),n.d(t,"loadFile",function(){return h}),t.default=function(n,r){return i=this,l=function(){var t;return function(n,r){var o,i,a,e,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),[4,h(n)];case 1:return[4,s(e.sent())];case 2:return[4,f(e.sent(),r)];case 3:if(!(t=e.sent()))throw new Error("createBlob error");return[4,h(t)];case 4:return[2,e.sent().url];case 5:throw e.sent();case 6:return[2]}})},new((u=a=void 0)||(u=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}o((l=l.apply(i,a||[])).next())});var i,a,u,l}}])},function(e,t,n){"use strict";n.r(t);var u=n(0),l=n.n(u),c=n(1),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(i,a,u,l){return new(u||(u=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}o((l=l.apply(i,a||[])).next())})},h=function(n,r){var o,i,a,e,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=function(e){var r=e.file,t=e.style,n=d(e,["file","style"]),o=p(Object(u.useState)(null),2),i=o[0],a=o[1];return Object(u.useEffect)(function(){s(void 0,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Object(c.loadFile)(r)];case 1:return t=e.sent().url,a(t),[3,3];case 2:throw n=e.sent(),new Error(n);case 3:return[2]}})})},[r]),i?l.a.createElement("img",f({},n,{style:t,src:i})):l.a.createElement("div",{style:t||{background:"#eee"}})},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},y=function(e){var n=e.fileAction,t=i(e,["fileAction"]),r=Object(u.useCallback)(function(e){var t=e.target.files;n&&t&&n(t)},[]);return l.a.createElement("input",o({type:"file",onChange:r,multiple:!0,accept:"image/*"},t))},b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},a=function(e){var n=e.fileAction,t=e.children,r=e.style,o=v(e,["fileAction","children","style"]),i=Object(u.useCallback)(function(e){e.preventDefault();var t=e.dataTransfer.files;n&&n(t)},[n]),a=Object(u.useCallback)(function(e){e.preventDefault()},[]);return l.a.createElement("label",b({},o,{onDrop:i,onDragOver:a,onDragEnter:a,style:r||{display:"flex",justifyContent:"center",alignItems:"center",background:"#eee",border:"1px dashed #999",width:"100%",height:"300px"}}),l.a.createElement(y,{style:{display:"none"},fileAction:n}),t)};n.d(t,"DisplayFile",function(){return r}),n.d(t,"DropFile",function(){return a}),n.d(t,"InputFile",function(){return y})}])});