!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-image-edit"]=t(require("react")):e["react-image-edit"]=t(e.react)}(window,function(n){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=2)}([function(e,t){e.exports=n},function(e,t,n){window,e.exports=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,n){"use strict";n.r(t);var M=function(e){return Math.abs(e)%180==90},r=/\.\d*(?:0|9){12}\d*$/,E=function(e,t){return void 0===t&&(t=1e11),r.test(String(e))?Math.round(e*t)/t:e};function o(b,e){var i,a,u,l,t=e.fillStyle,v=void 0===t?"transparent":t,n=e.rotate,w=void 0===n?0:n,r=e.scaleX,g=void 0===r?1:r,o=e.scaleY,m=void 0===o?1:o,c=(e.width,e.height,e.minWidth),x=void 0===c?0:c,f=e.minHeight,O=void 0===f?0:f,s=e.maxWidth,j=void 0===s?1/0:s,h=e.maxHeight,S=void 0===h?1/0:h,d=e.quality,P=void 0===d?.7:d,p=e.mimeType,k=void 0===p?"image/jpeg":p;return i=this,l=function(){return function(n,r){var o,i,a,e,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}(this,function(e){return[2,new Promise(function(n,e){var t=document.createElement("canvas"),r=t.getContext("2d");if(r){var o=function e(t){var n=t.rotate,r=void 0===n?0:n,o=t.width,i=t.height,a=t.minWidth,u=void 0===a?0:a,l=t.minHeight,c=void 0===l?0:l,f=t.maxWidth,s=void 0===f?1/0:f,h=t.maxHeight,d=void 0===h?1/0:h;if(M(r))return e({width:i,height:o,minWidth:c,minHeight:u,maxWidth:d,maxHeight:s});var p=o/i,y=function(e,t){return t<e*p},b=s<1/0&&d<1/0?{width:y(d,s)?s:d*p,height:y(d,s)?s/p:d}:s<1/0?{width:s,height:s/p}:d<1/0?{width:d*p,height:d}:{width:s,height:d},v=0<u&&0<c?{width:y(c,u)?u:c*p,height:y(c,u)?u/p:c}:0<u?{width:u,height:u/p}:0<c?{width:c*p,height:c}:{width:u,height:c},w=y(i,o)?{width:o,height:o/p}:{width:i*p,height:i};return{canvasWidth:Math.floor(E(Math.min(Math.max(w.width,v.width),b.width))),canvasHeight:Math.floor(E(Math.min(Math.max(w.height,v.height),b.height)))}}({width:b.naturalWidth,height:b.naturalHeight,minWidth:x,minHeight:O,maxWidth:j,maxHeight:S}),i=o.canvasWidth,a=o.canvasHeight,u=w*Math.PI/180,l=i,c=a,f=i*Math.cos(u)+a*Math.sin(u),s=i*Math.sin(u)+a*Math.cos(u),h=f/2,d=s/2,p=M(w)?-d:-h,y=M(w)?-h:-d;t.width=f,t.height=s,r.fillStyle=v,r.fillRect(0,0,f,s),r.save(),r.translate(h,d),r.rotate(u),r.scale(g,m),r.drawImage(b,p,y,l,c),r.restore(),t.toBlob(function(e){var t;t=b.src,window.URL&&window.URL.revokeObjectURL(t),n(e)},k,P)}else e(new Error("Not Supported Canvas"))})]})},new((u=a=void 0)||(u=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}o((l=l.apply(i,a||[])).next())})}var a=function(i,a,u,l){return new(u||(u=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}o((l=l.apply(i,a||[])).next())})},u=function(n,r){var o,i,a,e,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function c(r){return a(this,void 0,void 0,function(){return u(this,function(e){return[2,new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onabort=function(){t(new Error("Aborted to load the image."))},n.onerror=function(){t(new Error("Failed to load the image."))},n.alt=r.name,n.src=r.url})]})})}function f(i){return a(this,void 0,void 0,function(){return u(this,function(e){return[2,new Promise(function(o,e){var t=new FileReader;t.readAsDataURL(i),t.onload=function(e){var t,n=i.type,r=(t=i,(window.URL?window.URL.createObjectURL(t):null)||e.target.result);o({name:i.name||(new Date).toISOString(),url:r,mimeType:n})},t.onabort=function(){return e(new Error("Aborted to read the image with FileReader."))},t.onerror=function(){return e(new Error("Failed to read the image with FileReader."))},t.onloadend=function(){return t=null}})]})})}n.d(t,"createBlob",function(){return o}),n.d(t,"loadImage",function(){return c}),n.d(t,"loadFile",function(){return f}),t.default=function(n,r){return i=this,l=function(){var t;return function(n,r){var o,i,a,e,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),[4,f(n)];case 1:return[4,c(e.sent())];case 2:return[4,o(e.sent(),r)];case 3:if(!(t=e.sent()))throw new Error("createBlob error");return[4,f(t)];case 4:return[2,e.sent().url];case 5:throw e.sent();case 6:return[2]}})},new((u=a=void 0)||(u=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}o((l=l.apply(i,a||[])).next())});var i,a,u,l}}])},function(e,t,n){"use strict";n.r(t);var u=n(0),l=n.n(u),c=n(1),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(i,a,u,l){return new(u||(u=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}o((l=l.apply(i,a||[])).next())})},h=function(n,r){var o,i,a,e,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=function(e){var r=e.file,t=e.style,n=d(e,["file","style"]),o=p(Object(u.useState)(null),2),i=o[0],a=o[1];return Object(u.useEffect)(function(){s(void 0,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Object(c.loadFile)(r)];case 1:return t=e.sent().url,a(t),[3,3];case 2:throw n=e.sent(),new Error(n);case 3:return[2]}})})},[r]),i?l.a.createElement("img",f({},n,{style:t,src:i})):l.a.createElement("div",{style:t||{background:"#eee"}})},y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},o=function(e){var n=e.fileAction,t=e.children,r=e.style,o=b(e,["fileAction","children","style"]),i=Object(u.useCallback)(function(e){e.preventDefault();var t=e.dataTransfer.files;n&&n(t)},[n]),a=Object(u.useCallback)(function(e){e.preventDefault()},[]);return l.a.createElement("label",y({},o,{onDrop:i,onDragOver:a,onDragEnter:a,style:r||{display:"block",background:"#eee",border:"1px dashed #999",width:"100%",height:"300px"}}),t)};n.d(t,"DisplayFile",function(){return r}),n.d(t,"FileDrop",function(){return o})}])});